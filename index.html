<!DOCTYPE html> 
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To Do Application</title>
    <link rel="apple-touch-icon" sizes="180x180" href="/to-do/images/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/to-do/images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/to-do/images/favicon-16x16.png">
    <link rel="manifest" href="/to-do/manifest.json">
<style>
    /* Root Variables */
:root {
  --background-light: #F9F9F9;
  --background-dark: #101114;
  --primary-light: #E0E0E0;
  --primary-dark: #333;
  --accent: #00bfa5;
  --error: #FF5555;
  --text-light: #101114;
  --text-dark: #F9F9F9;
  --transition-duration: 0.3s;
}

/* Body Styling */
body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  margin: 0;
  padding: 0;
  background-color: var(--background-light);
  color: var(--text-light);
  transition: background-color var(--transition-duration), color var(--transition-duration);
}

body.dark-mode {
  background-color: var(--background-dark);
  color: var(--text-dark);
}

/* Header and Navigation */
header {
  background-color: var(--accent);
  padding: 10px 0;
}

.day-navigation {
  gap: 10px;
  flex-wrap: wrap;
  margin-bottom: 20px;
  display: flex; /* Align items horizontally */
  justify-content: space-around; /* Spread the days evenly */
  align-items: center; /* Center vertically */
  list-style: none; /* Remove bullet points */
  padding: 10px 0; /* Add some space around the list */
  margin: 0; /* Remove default margin */
  background-color: var(--primary-light); /* Optional background color */
  border-radius: 10px; /* Optional rounded corners */
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* Optional shadow for better look */
}

.day-navigation li {
  padding: 10px 15px;
  margin: 0 5px; /* Add space between items */
  border-radius: 10px;
  background-color: white;
  color: var(--text-light);
  cursor: pointer;
  transition: background-color var(--transition-duration), transform var(--transition-duration);
  text-align: center;
  min-width: 60px; /* Ensures consistent width for all items */
}

.day-navigation li:hover,
.day-navigation li.active {
  background-color: var(--accent);
  color: white;
  transform: scale(1.05);
}

/* Main Content */
main {
  padding: 20px;
  max-width: 700px;
  margin: 0 auto;
  text-align: center;
}

h1 {
  font-size: 2rem;
  margin-bottom: 10px;
}

.task-section {
  background-color: var(--primary-light);
  padding: 20px;
  border-radius: 15px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.task-section.dark-mode {
  background-color: var(--primary-dark);
}

.todo-form {
  display: flex;
  gap: 10px;
  margin-bottom: 20px;
}

#todo-input {
  flex: 1;
  padding: 10px;
  border: 2px solid var(--accent);
  border-radius: 20px;
  outline: none;
  transition: border-color var(--transition-duration);
}

#todo-input:focus {
  border-color: var(--text-light);
}

#add-button {
  padding: 10px 20px;
  background-color: var(--accent);
  border: none;
  color: white;
  border-radius: 20px;
  cursor: pointer;
  transition: background-color var(--transition-duration);
}

#add-button:hover {
  background-color: #009688;
}

#filter {
  padding: 10px;
  border-radius: 15px;
  background-color: var(--primary-light);
  border: 1px solid var(--accent);
  margin-bottom: 20px;
}

/* Todo List */
#todo-list {
  list-style: none;
  padding: 0;
}

.todo-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background-color: white;
  padding: 10px;
  margin: 5px 0;
  border-radius: 10px;
  transition: transform var(--transition-duration), background-color var(--transition-duration);
}

.todo-item:hover {
  transform: scale(1.02);
}

.todo-item.completed {
  opacity: 0.3;
}

.todo-checkbox {
  width: 20px;
  height: 20px;
  border: 2px solid var(--accent);
  border-radius: 50%;
  cursor: pointer;
}

.todo-actions button {
  padding: 5px 10px;
  border: none;
  border-radius: 5px;
  background-color: var(--error);
  color: white;
  cursor: pointer;
  transition: background-color var(--transition-duration);
}

.todo-actions button:hover {
  background-color: #ff3333;
}

/* Dark Mode Toggle */
.dark-mode-toggle {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 50px;
  height: 50px;
  background-color: var(--accent);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  transition: background-color var(--transition-duration), transform var(--transition-duration);
}

.dark-mode-toggle:hover {
  transform: scale(1.1);
}

.dark-mode-toggle .toggle-icon {
  width: 20px;
  height: 20px;
  background-color: white;
  border-radius: 50%;
}

#week-starting-day {
      font-size: 1.1rem;
      color: var(--text-color-light);
      margin-top: 10px;
      font-weight: normal;
      text-align: center;
    }
</style>
<body>
  <header>
    <nav class="day-navigation">
      <ul id="day-nav" role="tablist">
        <li role="tab" data-day="0">Monday</li>
        <li role="tab" data-day="1">Tuesday</li>
        <li role="tab" data-day="2">Wednesday</li>
        <li role="tab" data-day="3">Thursday</li>
        <li role="tab" data-day="4">Friday</li>
        <li role="tab" data-day="5">Saturday</li>
        <li role="tab" data-day="6">Sunday</li>
      </ul>
    </nav>
  </header>

  <main class="content">
    <h1>To-Do App</h1>
    <h4 id="week-starting-day"></h4>
    <section class="task-section">
      <form id="todo-form" class="todo-form">
        <input id="todo-input" type="text" placeholder="Add a task..." aria-label="New task input">
        <button id="add-button" type="submit" aria-label="Add task">Add</button>
      </form>
      <select id="filter" aria-label="Task filter">
        <option value="all">All</option>
        <option value="completed">Completed</option>
        <option value="not-completed">Uncompleted</option>
      </select>
      <ul id="todo-list" aria-live="polite"></ul>
    </section>
  </main>

  <button id="dark-mode-toggle" class="dark-mode-toggle" aria-label="Toggle dark mode">
    <span class="toggle-icon"></span>
  </button>

  <script>
document.addEventListener('DOMContentLoaded', () => {
    const dayNav = document.getElementById('day-nav');
    const todoList = document.getElementById('todo-list');
    const todoForm = document.getElementById('todo-form');
    const todoInput = document.getElementById('todo-input');
    const filter = document.getElementById('filter');
    const darkModeToggle = document.getElementById('dark-mode-toggle');

    let todos = JSON.parse(localStorage.getItem('todos')) || [];
    let currentDay = new Date().getDay();

    init();

    function init() {
        highlightActiveDay();
        loadTodos();
        setDarkMode(localStorage.getItem('darkMode') === 'true');
    }

    dayNav.addEventListener('click', (e) => {
        if (e.target.tagName === 'LI') {
            currentDay = +e.target.dataset.day;
            highlightActiveDay();
            loadTodos();
        }
    });

    todoForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const task = todoInput.value.trim();
        if (!task) {
            alert('Task cannot be empty!');
            return;
        }
        todos.push({ task, day: currentDay, completed: false });
        saveTodos();
        todoInput.value = '';
        loadTodos();
    });

    filter.addEventListener('change', loadTodos);

    darkModeToggle.addEventListener('click', () => {
        const isDarkMode = document.body.classList.toggle('dark-mode');
        localStorage.setItem('darkMode', isDarkMode);
    });

    function highlightActiveDay() {
        [...dayNav.children].forEach((li) => li.classList.remove('active'));
        dayNav.children[currentDay]?.classList.add('active');
    }

    function loadTodos() {
        const sortedTodos = todos.sort((a, b) => a.completed - b.completed);
        const filterValue = filter.value;
        const filteredTodos = todos.filter(
            (todo) =>
                todo.day === currentDay &&
                (filterValue === 'all' ||
                    (filterValue === 'completed' && todo.completed) ||
                    (filterValue === 'not-completed' && !todo.completed))
        );
        renderTodos(filteredTodos);
    }

    function renderTodos(todosToRender) {
        todoList.innerHTML = '';
        todosToRender.forEach((todo) => {
            const li = document.createElement('li');
            li.className = `todo-item ${todo.completed ? 'completed' : ''}`;

            const checkbox = document.createElement('div');
            checkbox.className = 'todo-checkbox';
            checkbox.addEventListener('click', () => toggleComplete(todo));

            const task = document.createElement('span');
            task.textContent = todo.task;

            const deleteBtn = document.createElement('button');
            deleteBtn.textContent = 'Delete';
            deleteBtn.addEventListener('click', () => deleteTask(todo));

            const actions = document.createElement('div');
            actions.className = 'todo-actions';
            actions.appendChild(deleteBtn);

            li.append(checkbox, task, actions);
            todoList.appendChild(li);
        });
    }

    function toggleComplete(todo) {
        todo.completed = !todo.completed;
        saveTodos();
        loadTodos();
    }

    function deleteTask(todoToDelete) {
        todos = todos.filter((todo) => todo !== todoToDelete);
        saveTodos();
        loadTodos();
    }

    function saveTodos() {
        localStorage.setItem('todos', JSON.stringify(todos));
    }

    function setDarkMode(isDark) {
        document.body.classList.toggle('dark-mode', isDark);
    }
});

function displayWeekStartingDay() {
      const today = new Date();
      const dayOfWeek = today.getDay();
      const daysToMonday = (dayOfWeek === 0 ? 6 : dayOfWeek - 1);
      const mondayDate = new Date(today);
      mondayDate.setDate(today.getDate() - daysToMonday);

  const formattedDate = mondayDate.toLocaleDateString('en-NZ');

  document.getElementById('week-starting-day').textContent = `Week Starting Day: ${formattedDate}`;
}
  </script>
</body>
</html>
